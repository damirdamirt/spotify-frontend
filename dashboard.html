<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spotify Clone - Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <nav
      class="navbar navbar-dark bg-dark px-4 py-3 border-bottom border-secondary"
    >
      <a class="navbar-brand fw-bold text-success" href="#">Spotify Clone</a>
      <div class="d-flex align-items-center gap-2">
        <span class="text-white me-2" id="welcomeUser">Welcome!</span>

        <button id="changePassBtn" class="btn btn-outline-warning btn-sm">
          Change Password
        </button>

        <button onclick="logout()" class="btn btn-outline-light btn-sm">
          Logout
        </button>
      </div>
    </nav>
    <div
      id="admin-section"
      style="
        display: none;
        background-color: #282828;
        padding: 20px;
        margin: 20px;
        border-radius: 8px;
        border: 1px solid #1db954;
      "
    >
      <h2 style="color: #1db954">üë®‚Äçüíª Admin Panel - Upload Album</h2>

      <form
        id="create-album-form"
        style="
          display: flex;
          flex-direction: column;
          gap: 15px;
          max-width: 500px;
        "
      >
        <div class="form-group">
          <label style="color: white">Select Artist:</label>
          <select
            id="artist-select"
            required
            style="padding: 10px; border-radius: 4px"
          >
            <option value="">Loading artists...</option>
          </select>
        </div>

        <div class="form-group">
          <label style="color: white">Album Title:</label>
          <input
            type="text"
            id="album-title"
            placeholder="e.g. After Hours"
            required
            style="padding: 10px; border-radius: 4px; width: 100%"
          />
        </div>

        <div class="form-group">
          <label style="color: white">Release Year:</label>
          <input
            type="number"
            id="release-year"
            placeholder="2024"
            required
            style="padding: 10px; border-radius: 4px; width: 100%"
          />
        </div>

        <div class="form-group">
          <label style="color: white">Cover Image:</label>
          <input
            type="file"
            id="album-cover"
            accept="image/*"
            required
            style="color: white"
          />
        </div>

        <button
          type="submit"
          class="btn-primary"
          style="
            background-color: #1db954;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
          "
        >
          Upload Album
        </button>
      </form>
      <p id="upload-message" style="margin-top: 15px; font-weight: bold"></p>
      <hr style="border-color: #535353; margin: 30px 0" />

      <h2 style="color: #1db954">üéµ Admin Panel - Add Song</h2>
      <form
        id="create-song-form"
        style="
          display: flex;
          flex-direction: column;
          gap: 15px;
          max-width: 500px;
        "
      >
        <div class="form-group">
          <label style="color: white">Select Album:</label>
          <select
            id="song-album-select"
            required
            style="padding: 10px; border-radius: 4px"
          >
            <option value="">Loading albums...</option>
          </select>
        </div>

        <div class="form-group">
          <label style="color: white">Song Title:</label>
          <input
            type="text"
            id="song-title"
            placeholder="e.g. Blinding Lights"
            required
            style="padding: 10px; border-radius: 4px; width: 100%"
          />
        </div>

        <div class="form-group">
          <label style="color: white">Duration (seconds):</label>
          <input
            type="text"
            id="song-duration"
            placeholder="3:05"
            required
            pattern="^[0-9]+:[0-5][0-9]$"
            title="Format must be mm:ss (e.g. 3:05)"
            style="padding: 10px; border-radius: 4px; width: 100%"
          />
        </div>

        <button
          type="submit"
          class="btn-primary"
          style="
            background-color: #1db954;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
          "
        >
          Add Song
        </button>
      </form>
      <p id="song-message" style="margin-top: 15px; font-weight: bold"></p>
    </div>

    <div id="content-section" style="margin-top: 40px">
      <div
        style="
          display: flex;
          align-items: center;
          gap: 10px;
          margin-bottom: 20px;
        "
      >
        <button
          id="back-btn"
          class="btn btn-secondary btn-sm"
          style="display: none"
        >
          ‚¨Ö Back
        </button>
        <h2 id="section-title" style="color: white; margin: 0">Artists üé§</h2>
      </div>

      <div
        id="data-container"
        style="display: flex; flex-wrap: wrap; gap: 20px"
      >
        <p style="color: #b3b3b3">Loading...</p>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="js/utils.js"></script>

    <script src="js/dashboard.js"></script>
  </body>
</html>
